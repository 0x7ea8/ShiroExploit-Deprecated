package com.shiroexploit.util;

import java.io.*;
import java.util.HashSet;
import java.util.Properties;
import java.util.Set;

public class ConfigReader {

    public static Set<String> loadKeys(){
        Set<String> keySets = new HashSet<>();

        String path = System.getProperty("user.dir") + File.separator + "config" + File.separator + "keys.conf";
        try {
            FileInputStream inputStream = new FileInputStream(path);
            BufferedReader br = new BufferedReader(new InputStreamReader(inputStream));
            String temp = "";
            while((temp = br.readLine()) != null){
                if(temp.length() == 24){
                    keySets.add(temp);
                }
            }
        } catch (FileNotFoundException e) {
            //doNothing
        } catch (IOException e) {
            //doNothing
        }

        return keySets;
    }

    public static String getConfig(String key){
        String path = System.getProperty("user.dir") + File.separator + "config" + File.separator + "config.properties";

        Properties properties = new Properties();
        FileInputStream in = null;
        String value = null;
        try {
            in = new FileInputStream(path);
            properties.load(in);
            value = properties.getProperty(key);
            in.close();
        } catch (FileNotFoundException e) {
            //doNothing
        } catch (IOException e) {
            //doNothing
        }

        return value;
    }
}
